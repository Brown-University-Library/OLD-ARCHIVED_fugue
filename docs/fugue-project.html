<html>
  <head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Project Configuration</title>
    <link rel="stylesheet" href="css/docs.css">
    <style>
        
    </style>
  </head>
  <body>
<nav class="navbar is-light has-text-black-ter" role="navigation" aria-label="main navigation">
    <div class="navbar-menu container">
        <div class="navbar-start">
            <a href="/" class="navbar-item">
            Home
            </a>
        <div class="navbar-start"><a href="/fugue-command.html" class="navbar-item">The fugue Command</a></div>
<div class="navbar-start"><a href="/fugue-project.html" class="navbar-item">Project Configuration</a></div>
</div>
        
        <div class="navbar-end">
            <a href="https://github.com/Brown-University-Library/fugue" class="navbar-item">
                Github
            </a>
        </div>
    </div>
</nav>
      <section class="hero is-primary">
        <div class="hero-body">
          <div class="container">
            <h1 class="title">Project Configuration</h1>
            
          </div>
        </div>
      </section>
      <section class="section">
        <div class="container">
          <section id="pagebody" class="content"><p>The <code>fugue.project.yaml</code> file must exist in the root directory of your project--its location identifies the project root and all directory references contained in it are resolved relative to the project file's location.</p>
<h2>Example</h2>
<p>This documentation is built using Fugue. See the <code>docs</code> directory in the project repository for this example project, including the <code>fugue.project.yaml</code> file. </p>
<h2>Contents</h2>
<h3><code>site</code></h3>
<p>The only required setting under <code>site</code> is <code>root</code>, but remember that the entire project file will be converted to XML, included in <code>fugue-data.xml</code>, and available to your templates. You may find it useful to include other settings. </p>
<p><strong><code>root</code>:</strong> The root directory of the output generated by Fugue. When Fugue moves or creates files, their locations will be determined relative to <code>root</code>.</p>
<h3><code>repositories</code></h3>
<p>A list of Git repositories which will be <code>clone</code>d or <code>pull</code>ed at the beginning of Fugue's work. Each element has a <code>remote</code> (the remote address of the repository) and a <code>target</code> the local location of the repo, relative to the Fugue project directory.</p>
<h5>Example:</h5>
<pre><code>repositories:  
    -
        remote: git@github.com:myaccount/my_data_repo.git  
        target: ../html_css_templates
</code></pre>
<h3><code>preprocess</code></h3>
<p>A list of commands that will be called with <a href="https://docs.python.org/3.6/library/subprocess.html#subprocess.run"><code>subprocess.run()</code></a> after the repositories are pulled. Each element here should be an iterable containing strings (it will be passed directly to <code>subprocess.run()</code></p>
<h5>Example:</h5>
<p><code>
preprocess:  
    # 'python' here will always call the python executable used to run Fugue.  
    - ['python', 'my-important-script.py']   
</code></p>
<h3><code>postprocess</code></h3>
<p>Same as <code>preprocess</code>, but these happen <em>after</em> the rest of the processing. </p>
<h5>Example:</h5>
<p><code>
postprocess: We subprocess.run() each of these after doing everything else.    
    - ['python', 'my-other-important-script.py']  
</code></p>
<h3><code>data-sources</code></h3>
<p>A named list of data sources to be collected into the <code>fugue-data.xml</code> file provided to Fugue's page templates. Each item has the following elements:  </p>
<ul>
<li>
<code>type</code>: This will be "filesystem". No other datasource types are yet implemented.  </li>
<li>
<code>directory</code>: The files' location relative to the project root.</li>
<li>
<code>filemask</code>: The filemask identifying the files to read. Can be e.g. <code>*</code> for all files in the directory, <code>*.xml</code> for all XML documents, or a single specific filename. Fugue will use each file's mimetype to decide which file handler to use.</li>
</ul>
<h5>Example:</h5>
<p><code>
data-sources:   
docpages:   
    type:   filesystem  
    directory: ./texts  
    filemask: '*.markdown'  
</code></p>
<h3><code>pages</code></h3>
<p>A named list of all the xslt templates to be run go generate the site's pages. Each has </p>
<ul>
<li>
<code>template</code>: The path to the XSLT template.</li>
<li>
<code>uri</code>: The file path of the template's output. This can be <code>false</code>, if you don't need the template's output (e.g. you're using <code>xsl:document</code> to save multiple files from the template.)</li>
<li>
<code>...</code>: Any other entries will be passed to the XSL template as parameters. </li>
</ul>
<h5>Example:</h5>
<p><code>
pages:   
    homepage:  
        uri: index.html  
        template: templates/homepage.xsl #Path to the XSLT  
    docpages:  
        uri: false # Don't save the output of the template.  
        template: templates/pages.xsl  
</code></p>
<h3><code>static-sources</code></h3>
<p>A named list of <code>source/target</code> directory pairs to copy into the final site.</p>
<h5>Example:</h5>
<p><code>
static-sources:  
    emblem-css:  
        source: ./static  
        target: static  
</code></p></section>
        </div>
      </section>
  </body>
</html>
